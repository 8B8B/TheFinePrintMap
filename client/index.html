<!DOCTYPE html>
<html>
  <head>
    <style>
       #map {
        height: 400px;
        width: 100%;
       }
    </style>
    <base href="/">
    <link rel="stylesheet" href="/public/lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">

  </head>

  <body ng-app="myApp">
  <div id="myApp" ng-controller="HomeController">

 <br>
  <div class="boxed">
    <form>
      <legend> Toggle Between Different Displays: </legend>
      <p> </p>
      <p>
        <input type="checkbox" name="demographic" value="demographic" id="demographic">
        <label for="demographic"> Demographic Information &emsp; &emsp; &emsp; &emsp; &emsp;
          </label>
        <input type="checkbox" name="routes" id="busroutes" ng-model="stdata.data">
        <label for="routes"> Bus Routes
          </label>
      </p>
      <p>
        <input type="checkbox" name="demographic" value="demographic" id="demographic">
        <label for="demographic">  Travel Time Comparisons &emsp; &emsp; &emsp; &emsp; &emsp;
          </label>
        <input type="checkbox" name="routes" value="routes" id="routes">
        <label for="routes"> Heat Map
          </label>
      </p>
    </form>
</div>
<div id="map" ></div>
    <script>
      function initMap() {
        var gainesville = {lat: 29.6516, lng: -82.3248};
        var zip32601 = {lat: 29.6422516, lng: -82.3289111};
        var zip32603 = {lat: 29.6577485, lng: -82.3479016};
        var zip32605 = {lat: 29.6793128, lng: -82.3723105};
        var zip32606 = {lat: 29.6788293, lng: -82.4644445};
        var zip32607 = {lat: 29.647247, lng: -82.4156829};
        var zip32608 = {lat: 29.6156734, lng: -82.3659168};
        var zip32609 = {lat: 29.7935588, lng: -82.2583297};
        var zip32641 = {lat: 29.6311155, lng: -82.2365981};
        var zip32653 = {lat: 29.7429556, lng: -82.3777335};
        var busImage = "https://www.materialui.co/materialIcons/maps/directions_bus_black_18x18.png";
        var directionsDisplay, i;
        var directionsService = new google.maps.DirectionsService();
        var bus20 = {
            "businfo":[
                {
                    "code": 173, "lat": 29.653183, "lng": -82.410996
                },
                {
                    "code": 1134, "lat": 29.644778, "lng": -82.347121
                },
                {
                    "code": 13326, "lat": 29.642148, "lng": -82.368834
                },
                {
                    "code": 472, "lat": 29.646308, "lng": -82.343389
                },
                {
                    "code": 797, "lat": 29.644915, "lng": -82.352145
                },
                {
                    "code": 798, "lat": 29.644962, "lng": -82.355326
                },
                {
                    "code": 800, "lat": 29.644917, "lng": -82.360703
                },
                {
                    "code": 801, "lat": 29.642655, "lng": -82.36404
                },
                {
                    "code": 802, "lat": 29.642299, "lng": -82.366452
                },
                {
                    "code": 803, "lat": 29.642291, "lng": -82.368951
                },
                {
                    "code": 804, "lat": 29.641109, "lng": -82.36933
                },
                {
                    "code": 806, "lat": 29.63812, "lng": -82.369333
                },
                {
                    "code": 807, "lat": 29.637737, "lng": -82.37037
                },
                {
                    "code": 808, "lat": 29.635891, "lng": -82.372659
                },
                {
                    "code": 810, "lat": 29.634206, "lng": -82.374919
                },
                {
                    "code": 811, "lat": 29.634123, "lng": -82.377023
                },
                {
                    "code": 813, "lat": 29.634123, "lng": -82.382798
                },
                {
                    "code": 814, "lat": 29.634482, "lng": -82.385207
                },
                {
                    "code": 815, "lat": 29.635731, "lng": -82.38821
                },
                {
                    "code": 816, "lat": 29.636959, "lng": -82.390186
                },
                {
                    "code": 817, "lat": 29.637874, "lng": -82.397612
                },
                {
                    "code": 818, "lat": 29.641168, "lng": -82.39814
                },
                {
                    "code": 819, "lat": 29.644808, "lng": -82.399307
                },
                {
                    "code": 820, "lat": 29.646771, "lng": -82.400893
                },
                {
                    "code": 821, "lat": 29.648195, "lng": -82.402049
                },
                {
                    "code": 822, "lat": 29.649886, "lng": -82.406641
                },
                {
                    "code": 823, "lat": 29.652416, "lng": -82.408796
                },
                {
                    "code": 824, "lat": 29.651658, "lng": -82.408971
                },
                {
                    "code": 825, "lat": 29.650037, "lng": -82.407738
                },
                {
                    "code": 826, "lat": 29.647812, "lng": -82.401864
                },
                {
                    "code": 827, "lat": 29.646326, "lng": -82.400655
                },
                {
                    "code": 828, "lat": 29.644417, "lng": -82.399106
                },
                {
                    "code": 829, "lat": 29.641554, "lng": -82.398333
                },
                {
                    "code": 830, "lat": 29.639517, "lng": -82.39527
                },
                {
                    "code": 832, "lat": 29.635184, "lng": -82.387438
                },
                {
                    "code": 833, "lat": 29.634296, "lng": -82.38484
                },
                {
                    "code": 835, "lat": 29.633958, "lng": -82.381892
                },
                {
                    "code": 837, "lat": 29.633951, "lng": -82.377716
                },
                {
                    "code": 838, "lat": 29.634077, "lng": -82.375158
                },
                {
                    "code": 839, "lat": 29.635446, "lng": -82.372376
                },
                {
                    "code": 840, "lat": 29.637361, "lng": -82.372355
                },
                {
                    "code": 841, "lat": 29.637554, "lng": -82.370077
                },
                {
                    "code": 842, "lat": 29.638171, "lng": -82.369247
                },
                {
                    "code": 844, "lat": 29.640952, "lng": -82.36921
                },
                {
                    "code": 845, "lat": 29.642199, "lng": -82.366099
                },
                {
                    "code": 846, "lat": 29.642241, "lng": -82.364281
                },
                {
                    "code": 847, "lat": 29.644793, "lng": -82.360884
                },
                {
                    "code": 848, "lat": 29.644934, "lng": -82.35673
                },
                {
                    "code": 849, "lat": 29.644837, "lng": -82.351988
                },
                {
                    "code": 859, "lat": 29.638078, "lng": -82.397988
                },
                {
                    "code": 1236, "lat": 29.635913, "lng": -82.397884
                },
                {
                    "code": 473, "lat": 29.64514, "lng": -82.346983
                }
            ]
        };

        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 12,
          center: gainesville
        });
        //code
        directionsDisplay = new google.maps.DirectionsRenderer({map: map});

        var content32601 = '<div>' + '<p> Zip Code: 32601<br> Population: 18,585 <br> Median Age: 24.4<br> Number of Houses: 9,182<br> Median Income: $24,272<br> Below Poverty Line: 46.90%</p>' + '</div>';
        var info32601 = new google.maps.InfoWindow({
          content: content32601
        });
        var marker32601 = new google.maps.Marker({
          position: zip32601,
          map: map,
          label: '32601'
        });
        marker32601.addListener('click',function() {
          info32601.open(map,marker32601);
        });
        var content32603 = '<div>' + '<p> Zip Code: 32603<br> Population: 6,741 <br> Median Age: 21.1<br> Number of Houses: 2,422 <br> Median Income: $20,080<br> Below Poverty Line: 54.50%</p>' + '</div>';
        var info32603 = new google.maps.InfoWindow({
          content: content32603
        });
        var marker32603 = new google.maps.Marker({
          position: zip32603,
          map: map,
          label: '32603'
        });
        marker32603.addListener('click',function() {
          info32603.open(map,marker32603);
        });
        var content32605 = '<div>' + '<p> Zip Code: 32605<br> Population: 22,925 <br> Median Age: 40<br> Number of Houses: 10,459 <br> Median Income: $69,264<br> Below Poverty Line: 12.10%</p>' + '</div>';
        var info32605 = new google.maps.InfoWindow({
          content: content32605
        });
        var marker32605 = new google.maps.Marker({
          position: zip32605,
          map: map,
          label: '32605'
        });
        marker32605.addListener('click',function() {
          info32605.open(map,marker32605);
        });
        var content32606 = '<div>' + '<p> Zip Code: 32606<br> Population: 21,833 <br> Median Age: 36.8<br> Number of Houses: 10,600 <br> Median Income: $59,122<br> Below Poverty Line: 10.10%</p>' + '</div>';
        var info32606 = new google.maps.InfoWindow({
          content: content32606
        });
        var marker32606 = new google.maps.Marker({
          position: zip32606,
          map: map,
          label: '32606'
        });
        marker32606.addListener('click',function() {
          info32606.open(map,marker32606);
        });
        var content32607 = '<div>' + '<p> Zip Code: 32607<br> Population: 29,750 <br> Median Age: 25.1<br> Number of Houses: 14,802 <br> Median Income: $33,724<br> Below Poverty Line: 35.40%</p>' + '</div>';
        var info32607 = new google.maps.InfoWindow({
          content: content32607
        });
        var marker32607 = new google.maps.Marker({
          position: zip32607,
          map: map,
          label: '32607'
        });
        marker32607.addListener('click',function() {
          info32607.open(map,marker32607);
        });
        var content32608 = '<div>' + '<p> Zip Code: 32608<br> Population: 45,832 <br> Median Age: 28<br> Number of Houses: 23,245 <br> Median Income: $40,465<br> Below Poverty Line: 29.40%</p>' + '</div>';
        var info32608 = new google.maps.InfoWindow({
          content: content32608
        });
        var marker32608 = new google.maps.Marker({
          position: zip32608,
          map: map,
          label: '32608'
        });
        marker32608.addListener('click',function() {
          info32608.open(map,marker32608);
        });
        var content32609 = '<div>' + '<p> Zip Code: 32609<br> Population: 18,756 <br> Median Age: 36.1<br> Number of Houses: 7,999 <br> Median Income: $28,569<br> Below Poverty Line: 32.80%</p>' + '</div>';
        var info32609 = new google.maps.InfoWindow({
          content: content32609
        });
        var marker32609 = new google.maps.Marker({
          position: zip32609,
          map: map,
          label: '32609'
        });
        marker32609.addListener('click',function() {
          info32609.open(map,marker32609);
        });
        var content32641 = '<div>' + '<p> Zip Code: 32641<br> Population: 14,291 <br> Median Age: 34.9<br> Number of Houses: 5,290 <br> Median Income: $30,091<br> Below Poverty Line: 32.80%</p>' + '</div>';
        var info32641 = new google.maps.InfoWindow({
          content: content32641
        });
        var marker32641 = new google.maps.Marker({
          position: zip32641,
          map: map,
          label: '32641'
        });
        marker32641.addListener('click',function() {
          info32641.open(map,marker32641);
        });
        var content32653 = '<div>' + '<p> Zip Code: 32653<br> Population: 13,107 <br> Median Age: N/A<br> Number of Houses: 6,085 <br> Median Income: $64,570<br> Below Poverty Line: N/A</p>' + '</div>';
        var info32653 = new google.maps.InfoWindow({
          content: content32653
        });
        var marker32653 = new google.maps.Marker({
          position: zip32653,
          map: map,
          label: '32653'
        });
        marker32653.addListener('click',function() {
          info32653.open(map,marker32653);
        });

        // Bus 20 Markers and bus route id 4001214
        var busmarker20;
        var busIcon = {
            url: busImage,
            scaledSize: new google.maps.Size(13, 13), // scaled size
            origin: new google.maps.Point(0,0), // origin
            anchor: new google.maps.Point(0, 0) // anchor
        };
        //console.log(bus20.businfo.length);
        directionsDisplay.setMap(map);
        var request = {
              travelMode: google.maps.TravelMode.TRANSIT
        };
        for(i = 0; i < bus20.businfo.length; i++){
            busmarker20 =  new google.maps.Marker({
               position: new google.maps.LatLng(bus20.businfo[i].lat,bus20.businfo[i].lng),
               map: map,
               icon: busIcon
            });
            if (i == 0) request.origin = busmarker20.getPosition();
            else if (i == bus20.businfo.length - 1) request.destination = busmarker20.getPosition();
        }
        directionsService.route(request, function(results, status){
            if(status == google.maps.DirectionsStatus.OK){
                directionsDisplay.setDirections(results);
            }
        });
      }
      google.maps.event.addDomListener(windoow, "load", initialize);
    </script>

    <!--
    <script>
        var a = document.getElementById('myApp');
        var $scope = angular.element(a).scope();
        console.log($scope.coord);
    </script>-->
    <p> get agresponse : {{stdata.data[0].location}}</p>
    <p>{{coord}}</p>



      <!-- Application Source Code -->

      <!--
    <script src="app/app.js"></script>
    <script src="app/config/listings.client.routes.js"></script>
    <script src="app/factories/listings.client.factory.js"></script>
    -->
  </div>
    <script src="/public/lib/jquery/dist/jquery.min.js"></script>
    <script src="/public/lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/public/lib/angular/angular.js"></script>
    <script src="/public/lib/angular-ui-router/release/angular-ui-router.js"></script>
    <script src="/public/lib/angular-bootstrap/ui-bootstrap.js"></script>
    <script src="/public/lib/lodash/dist/lodash.min.js"></script>
    <script src="/public/lib/angular-simple-logger/dist/angular-simple-logger.min.js"></script>
    <script src="controllers/home.client.controller.js"></script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCzcplqLGgsRpnPIhCr_1MhVk2qsVNZwcY&callback=initMap">
    </script>
  </body>
</html>